<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>option test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./styles/reset.css">
    <style>
        .box {width:500px; text-align:right;}
        .box img {width:100%; border-radius:5px;}
        .box .price {font-size:1.3rem; font-weight: 700;}
        .box select {width:50%; border:1px solid #aaa; padding:5px; outline:none;}
        .box p {line-height: 2;}
        .box .select {border-top:1px dotted #222; margin-top:10px;}
        .box .close {margin-left:30px;}
    </style>
</head>
<body>
    <div class="box">
        <img src="https://i.pinimg.com/736x/d3/0d/9a/d30d9ac1be823fd6474a6df31e0c591a.jpg" alt="">
        <p class="price">2,500,000원</p>
        <select name="color" id="color">
            <option value="red">red</option>
            <option value="blue">blue</option>
            <option value="yellow">yellow</option>
        </select>
        <p class="select">선택옵션 : <span></span><button type="button" class="close">x</button></p>
    </div>
    <script>
        //1. 선택옵션 초기 숨기기
        //2. select 옵션 선택 시
        //3. 선택옵션 목록 출력
        //4. 선택옵션 오른쪽 x 클릭 시 선택옵션 제거
        const $selectOpt = $('select#color'); //select 태그
        const $selectOrder = $('p.select'); //선택옵션
        const $orderClose = $('.select .close'); //X
        console.log($orderClose, $selectOpt, $selectOrder)

        $selectOrder.hide(); //1. 선택옵션 초기 숨기기

        //js ver
        //selectOpt.addEventListener('change', ()=>{ a() })
        //function a(){ selectOpt.options[selectedIndex] }

        //jq ver
        $selectOpt.change(function(){
            console.log($(this).find('option:checked').val())
            $selectOrder.show(); //선택옵션 보이기
            //선택옵션에 내가 선택한 옵션 값 출력하기
            let thisVal = $(this).find('option:checked').val()
            $selectOrder.find('span').text(thisVal);
            //js ver
            //selectOrder.children[0].textContent = thisVal;
        })
        
        //4. 선택옵션 오른쪽 x 클릭 시 선택옵션 제거(가족관계 활용)
        $orderClose.click(function(){
            $(this).parent().hide();
        })
    </script>
</body>
</html>